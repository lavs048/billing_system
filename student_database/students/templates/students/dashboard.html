<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %} <!-- Load static tag -->
    <title>Student Management System</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>
    <header>
        <h1>Student Management Dashboard</h1>
    </header>
    <main>
        <div class="actions">
            <a href="{% url 'add_student' %}" class="button">Add Student</a>
            <a href="{% url 'export_excel' %}" class="button">Export to Excel</a>
            <a href="{% url 'export_pdf' %}" class="button">Export to PDF</a>
        </div>

        <form method="GET" action="{% url 'dashboard' %}">
            <div class="filters">
                <label for="gender">Select Gender:</label>
                <select name="gender" id="gender">
                    <option value="">All</option>
                    <option value="Male" {% if request.GET.gender == "Male" %}selected{% endif %}>Male</option>
                    <option value="Female" {% if request.GET.gender == "Female" %}selected{% endif %}>Female</option>
                </select>

                <label for="student_class">Select Class:</label>
                <select name="student_class" id="student_class">
                    <option value="">All</option>
                    {% for class in class_list %}
                    <option value="{{ class }}" {% if request.GET.student_class == class %}selected{% endif %}>{{ class }}</option>
                    {% endfor %}
                </select>

                <button type="submit" class="button">Filter</button>
            </div>
        </form>

        <table>
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Student ID</th>
                    <th>Gender</th>
                    <th>Class</th>
                    <th>Birthday</th>
                    <th>Age</th>
                    <th>Address</th>
                    <th>Phone</th>
                    <th>Email</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for student in students %}
                <tr>
                    <td>{{ student.name }}</td>
                    <td>{{ student.student_id }}</td>
                    <td>{{ student.gender }}</td>
                    <td>{{ student.class_grade }}</td>
                    <td>{{ student.birthday }}</td>
                    <td>{{ student.age }}</td>
                    <td>{{ student.address }}</td>
                    <td>{{ student.phone }}</td>
                    <td>{{ student.email }}</td>
                    <td>
                        <a href="{% url 'edit_student' student.id %}" class="button">Edit</a>
                        <a href="{% url 'delete_student' student.id %}" class="button delete">Delete</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </main>
</body>
</html>
